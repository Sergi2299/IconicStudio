<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contacto</title>
  <link rel="icon" type="image/png" href="logo.png" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <h1>ContÃ¡ctanos</h1>
  <form id="contact-form" onsubmit="return validarFormulario()">
    <input
      type="text"
      id="name"
      name="name"
      placeholder="Tu nombre"
      required
      autocomplete="off"
    />
    <input
      type="email"
      id="email"
      name="email"
      placeholder="Tu email"
      required
      autocomplete="off"
    />
    <textarea
      id="message"
      name="message"
      placeholder="Escribe tu mensaje..."
      required
      autocomplete="off"
    ></textarea>

    <label for="captcha-input" style="text-align:left; display:block; color:#70d0ff; margin-bottom: 6px;">
      Escribe los nÃºmeros que ves abajo:
    </label>

    <div id="captcha-pregunta"></div>

    <button type="button" id="reload-captcha" title="Recargar captcha" aria-label="Recargar captcha">
      ðŸ”„
    </button>

    <input
      type="text"
      id="captcha-input"
      name="captcha-input"
      placeholder="Introduce nÃºmeros"
      required
      autocomplete="off"
    />

    <button type="submit">Enviar mensaje</button>
  </form>

  <script>
    const captchaPregunta = document.getElementById("captcha-pregunta");
    const captchaInput = document.getElementById("captcha-input");
    const reloadBtn = document.getElementById("reload-captcha");

    let captchaCodigo = "";

    function generarCaptcha() {
      captchaCodigo = "";
      for (let i = 0; i < 5; i++) {
        captchaCodigo += Math.floor(Math.random() * 10); // nÃºmero 0-9
      }
      captchaPregunta.textContent = captchaCodigo;
      captchaInput.value = "";
    }

    function validarFormulario() {
      if (captchaInput.value !== captchaCodigo) {
        alert("El captcha no coincide. Por favor, intÃ©ntalo de nuevo.");
        generarCaptcha();
        return false; // evita envÃ­o
      }
      alert("Mensaje enviado correctamente!");
      return true;
    }

    reloadBtn.addEventListener("click", generarCaptcha);

    // Generar captcha al cargar la pÃ¡gina
    window.onload = generarCaptcha;
  </script>
</body>
</html>
