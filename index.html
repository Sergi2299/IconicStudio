<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mi Página con Cookies</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <header>
    <div class="header-container">
      <img src="logo.png" alt="Logo" class="logo-img" />
      <div class="header-texto">
        <h1>Mi Web de Ejemplo</h1>
        <p>Subtítulo o slogan aquí</p>
      </div>
    </div>
  </header>

  <nav>
    <a href="index.html">Inicio</a>
    <a href="privacidad.html" target="_blank" rel="noopener noreferrer">Privacidad</a>
    <a href="contacto.html">Contacto</a>
  </nav>

  <section>
    <h2>Contenido Principal</h2>
    <p>Aquí va el contenido de la página...</p>
  </section>

  <!-- Banner cookies -->
  <div class="cookie-consent" id="cookieConsent">
    <p>
      Usamos cookies para mejorar tu experiencia. Consulta nuestra 
      <a href="privacidad.html" target="_blank" rel="noopener noreferrer">Política de privacidad</a>.
    </p>
    <div>
      <button id="acceptCookies">Aceptar</button>
      <button id="rejectCookies">Rechazar</button>
    </div>
  </div>

  <footer>
    <p>© 2025 Mi Empresa. Todos los derechos reservados.</p>
  </footer>

  <script>
    // Referencias a elementos
    const cookieConsent = document.getElementById('cookieConsent');
    const acceptBtn = document.getElementById('acceptCookies');
    const rejectBtn = document.getElementById('rejectCookies');

    // Funciones para manejar cookies
    function setCookie(name, value, days) {
      const d = new Date();
      d.setTime(d.getTime() + (days*24*60*60*1000));
      const expires = "expires="+ d.toUTCString();
      document.cookie = name + "=" + value + ";" + expires + ";path=/";
    }

    function getCookie(name) {
      const cname = name + "=";
      const decodedCookie = decodeURIComponent(document.cookie);
      const ca = decodedCookie.split(';');
      for(let i = 0; i < ca.length; i++) {
        let c = ca[i].trim();
        if (c.indexOf(cname) === 0) return c.substring(cname.length, c.length);
      }
      return "";
    }

    // Comprobar consentimiento y mostrar u ocultar banner
    function checkConsent() {
      const consent = getCookie("user_cookie_consent");
      if(consent === "accepted" || consent === "rejected") {
        cookieConsent.classList.add('hide');
      } else {
        cookieConsent.classList.remove('hide');
      }
    }

    // Eventos botones aceptar y rechazar
    acceptBtn.addEventListener('click', () => {
      setCookie("user_cookie_consent", "accepted", 365);
      cookieConsent.classList.add('hide');
    });

    rejectBtn.addEventListener('click', () => {
      setCookie("user_cookie_consent", "rejected", 365);
      cookieConsent.classList.add('hide');
    });

    // Ejecutar al cargar página
    window.onload = checkConsent;
  </script>

</body>
</html>

